<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>RoboCOIN Dataset Visualizer-Downloader</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <!-- 
        Standard Asset Structure:
        ./assets/
          â”œâ”€â”€ info/               - JSON index files (data_index.json, consolidated_datasets.json)
          â”œâ”€â”€ dataset_info/       - YAML metadata files (*.yml, *.yaml)
          â””â”€â”€ videos/             - MP4 video files (*.mp4)
    -->
    <link rel="stylesheet" href="./css/style.css?v=20241025-optimized">

    <link rel="icon" href="./favicon.ico" type="image/x-icon">
</head>
<body>
    <!-- åŠ è½½åŠ¨ç”»è¦†ç›–å±‚ -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
        <div class="loading-text">Loading datasets...</div>
        <div class="loading-progress" id="loadingProgress">0 / 0</div>
        <div class="loading-bar-container">
            <div class="loading-bar" id="loadingBar"></div>
        </div>
    </div>

    <div class="header-container">
        <div class="header-content">
            <h1 class="header-title">ğŸ¤– RoboCOIN Dataset Visualizer ğŸ“Š</h1>
            <span class="version-badge">v1.0</span>
        </div>
    </div>
    <div class="app-container">
        <!-- å·¦ä¾§ç­›é€‰é¢æ¿ -->
        <div class="filter-panel">
            
            <div class="filter-header">
                <input type="text" id="searchBox" class="filter-search" placeholder="search for datasets here">
                <div class="filter-finder">
                    <input type="text" id="filterFinderInput" class="filter-finder-input" placeholder="search for filters">
                    <div class="filter-finder-nav">
                        <button id="filterFinderPrev" class="filter-finder-btn" title="Previous match">â†‘</button>
                        <span id="filterFinderCount" class="filter-finder-count">0/0</span>
                        <button id="filterFinderNext" class="filter-finder-btn" title="Next match">â†“</button>
                        <button id="filterFinderClear" class="filter-finder-btn" title="Clear search">Ã—</button>
                    </div>
                </div>
            </div>
            
            <div class="filter-stats">
                <div class="stat-item">
                    <span>filtered items:</span>
                    <strong id="filteredCount">0</strong>
                </div>
                <div class="stat-item">
                    <span>selected items:</span>
                    <strong id="selectedCount">0</strong>
                </div>
            </div>
            
            <div class="filter-content" id="filterGroups"></div>
        
        </div>

        <!-- ä¸­é—´è§†é¢‘ç½‘æ ¼åŒº -->
        <div class="video-panel">
                <div class="video-toolbar">
                    <div class="toolbar-actions">
                        <div class="btn-group">
                            <button class="btn-toolbar primary" id="selectAllBtn">âœ… select</button>
                            <button class="btn-toolbar danger" id="deselectAllBtn">âŒ deselect</button>
                            <button class="btn-toolbar secondary" id="resetBtn">ğŸ”„ reset</button>
                        </div>
                        <div class="btn-group">
                            <button class="btn-toolbar success" id="addToListBtn">ğŸ›’ add</button>
                            <button class="btn-toolbar danger" id="deleteFromListBtn">ğŸ—‘ï¸ remove</button>
                            <button class="btn-toolbar secondary" id="clearListBtn">ğŸ”„ clear</button>
                        </div>
                    </div>
                </div>
            
            <div class="video-grid-container">
                <div class="video-grid" id="videoGrid"></div>
            </div>
        </div>

        <!-- å³ä¾§é€‰ä¸­é¢æ¿ -->
        <div class="selection-panel">
            <div class="selection-header">
                <span class="cart-icon" style="margin-right: 6px;">ğŸ›’</span><span id="selectionCount">0</span> items in cart
                <input type="file" id="importFile" accept=".json" style="display: none;">
            </div>
            
            <div class="selection-list" id="selectionList"></div>
            
            <div class="selection-footer">
                <div class="selection-actions">
                    <button class="btn-selection" id="importBtn">ğŸ“‹ import .json</button>
                    <button class="btn-selection" id="exportBtn">ğŸ“¤ export .json</button>
                </div>
                <div style="margin-top: 8px; margin-bottom: 8px;">
                    <label style="font-size: 12px; display: flex; align-items: center; gap: 8px; flex-wrap: wrap;">
                        <span style="font-weight: 500;">Hub Source:</span>
                        <select id="hubSelect" style="padding: 4px 8px; border: 1px solid #ddd; border-radius: 4px; font-size: 12px;">
                            <option value="modelscope">ModelScope</option>
                            <option value="huggingface">HuggingFace</option>
                        </select>
                    </label>
                </div>
                <div class="code-section-description">Download command:</div>
                <div class="code-output" id="codeOutput"></div>
                <div class="code-actions">
                    <button class="btn-selection" id="copyCodeBtn">ğŸ“‹ Copy & Checkout â¬‡ï¸</button>
                </div>
            </div>
        </div>
        
    </div>

    <script type="module" src="./js/main.js"></script>
</body>
</html>