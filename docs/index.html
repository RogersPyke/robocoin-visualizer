<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>RoboCOIN Dataset Visualizer-Downloader</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <!-- 
        Standard Asset Structure:
        ./assets/
          â”œâ”€â”€ info/               - JSON index files (data_index.json, consolidated_datasets.json)
          â”œâ”€â”€ dataset_info/       - YAML metadata files (*.yml, *.yaml)
          â””â”€â”€ videos/             - MP4 video files (*.mp4)
    -->
    <link rel="stylesheet" href="./css/style.css?v=20241025-optimized">

    <link rel="icon" href="./favicon.ico" type="image/x-icon">
</head>
<body>
    <!-- åŠ è½½åŠ¨ç”»è¦†ç›–å±‚ -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
        <div class="loading-text">Loading datasets...</div>
        <div class="loading-progress" id="loadingProgress">0 / 0</div>
        <div class="loading-bar-container">
            <div class="loading-bar" id="loadingBar"></div>
        </div>
    </div>

    <div class="header-container">
        <div class="header-content">
            <h1 class="header-title">ğŸ¤– RoboCOIN Dataset Visualizer ğŸ“Š</h1>
            <span class="version-badge">v1.0</span>
        </div>
    </div>
    <!-- Filter Control Bar -->
    <div class="filter-control-bar">
        <div class="filter-control-container">
            <button class="filter-trigger-btn" id="filterTriggerBtn">
                <span class="filter-trigger-icon">âš™ï¸</span>
                <span class="filter-trigger-text">Filters</span>
                <span class="filter-trigger-count" id="filterTriggerCount"></span>
            </button>
            
            <div class="filter-search-container">
                <input type="text" id="searchBox" class="filter-search-input" placeholder="Search datasets...">
            </div>
            
            <div class="filter-stats-inline">
                <span class="stat-inline">
                    <span class="stat-label">Results:</span>
                    <strong id="filteredCount">0</strong>
                </span>
                <span class="stat-inline">
                    <span class="stat-label">Selected:</span>
                    <strong id="selectedCount">0</strong>
                </span>
            </div>
        </div>
        
        <!-- Active Filter Tags -->
        <div class="filter-tags-container" id="filterTagsContainer"></div>
    </div>

    <!-- Filter Dropdown Overlay -->
    <div class="filter-dropdown-overlay" id="filterDropdownOverlay">
        <div class="filter-dropdown" id="filterDropdown">
            <div class="filter-dropdown-header">
                <h3 class="filter-dropdown-title">ğŸ” Filter Datasets</h3>
            </div>
            <div class="filter-dropdown-content" id="filterGroups"></div>
            <div class="filter-dropdown-footer">
                <button class="filter-dropdown-done" id="filterDropdownClose">Done</button>
            </div>
        </div>
    </div>

    <div class="app-container">
        <!-- ä¸­é—´è§†é¢‘ç½‘æ ¼åŒº -->
        <div class="video-panel">
            <div class="video-grid-container">
                <div class="video-grid" id="videoGrid"></div>
                <!-- Select/Deselect buttons in bottom-right corner -->
                <div class="video-selection-buttons">
                    <div class="btn-group">
                        <button class="btn-toolbar primary" id="selectAllBtn">âœ… select</button>
                        <button class="btn-toolbar danger" id="deselectAllBtn">âŒ deselect</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- å³ä¾§é€‰ä¸­é¢æ¿ -->
        <div class="selection-panel">
            <div class="selection-header">
                <div class="selection-header-top">
                    <span class="cart-icon" style="margin-right: 6px;">ğŸ›’</span><span id="selectionCount">0</span> items in cart
                    <input type="file" id="importFile" accept=".json" style="display: none;">
                </div>
                <div class="selection-header-actions">
                    <button class="btn-selection success" id="addToListBtn">ğŸ›’ add</button>
                    <button class="btn-selection danger" id="deleteFromListBtn">ğŸ—‘ï¸ remove</button>
                    <button class="btn-selection secondary" id="clearListBtn">ğŸ”„ clear</button>
                </div>
            </div>
            
            <div class="selection-list" id="selectionList"></div>
            
            <div class="selection-footer">
                <div class="selection-actions">
                    <button class="btn-selection" id="importBtn">ğŸ“‹ import .json</button>
                    <button class="btn-selection" id="exportBtn">ğŸ“¤ export .json</button>
                </div>
                <div style="margin-top: 8px; margin-bottom: 8px;">
                    <label style="font-size: 12px; display: flex; align-items: center; gap: 8px; flex-wrap: wrap;">
                        <span style="font-weight: 500;">Hub Source:</span>
                        <select id="hubSelect" style="padding: 4px 8px; border: 1px solid #ddd; border-radius: 4px; font-size: 12px;">
                            <option value="modelscope">ModelScope</option>
                            <option value="huggingface">HuggingFace</option>
                        </select>
                    </label>
                </div>
                <div class="code-section-description">Download command:</div>
                <div class="code-output" id="codeOutput"></div>
                <div class="code-actions">
                    <button class="btn-selection" id="copyCodeBtn">ğŸ“‹ Copy & Checkout â¬‡ï¸</button>
                </div>
            </div>
        </div>
        
    </div>

    <script type="module" src="./js/main.js"></script>
</body>
</html>